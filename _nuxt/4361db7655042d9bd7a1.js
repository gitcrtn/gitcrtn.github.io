(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{148:function(t,e,n){"use strict";var o=n(2),r=n(14),c=n(19),l=n(93),h=n(44),d=n(9),f=n(45).f,m=n(67).f,v=n(10).f,w=n(154).trim,I=o.Number,y=I,x=I.prototype,k="Number"==c(n(66)(x)),C="trim"in String.prototype,T=function(t){var e=h(t,!1);if("string"==typeof e&&e.length>2){var n,o,r,c=(e=C?e.trim():w(e,3)).charCodeAt(0);if(43===c||45===c){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===c){switch(e.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+e}for(var code,l=e.slice(2),i=0,d=l.length;i<d;i++)if((code=l.charCodeAt(i))<48||code>r)return NaN;return parseInt(l,o)}}return+e};if(!I(" 0o1")||!I("0b1")||I("+0x1")){I=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof I&&(k?d(function(){x.valueOf.call(n)}):"Number"!=c(n))?l(new y(T(e)),n,I):T(e)};for(var S,_=n(7)?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;_.length>M;M++)r(y,S=_[M])&&!r(I,S)&&v(I,S,m(y,S));I.prototype=x,x.constructor=I,n(11)(o,"Number",I)}},149:function(t){t.exports={name:"font-awesome",font:'900 48px "Font Awesome 5 Free"',fontSize:48,charCode:!0,data:[{name:"camera",value:"f030"},{name:"clock",value:"f017"}]}},150:function(t,e,n){var content=n(157);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(47).default)("96779f54",content,!0,{sourceMap:!1})},151:function(t,e,n){"use strict";n(31),n(25);var o=n(6),r=n(17),c=n.n(r),l=n(64),h=n(149),d={name:"CommonCanvas",data:function(){return{canvasData:[h]}},methods:Object(o.a)({},Object(l.b)("assets/canvas",{setCanvasId:"setCanvasId",setUv:"setUv",setAtlasSize:"setAtlasSize"})),mounted:function(){var t=this;this.canvasData.forEach(function(e,n){if(!c.a.isEmpty(e.data)){var canvas=t.$refs.canvas[n],o=e.name,r=Math.ceil(Math.sqrt(e.data.length)),l=r*e.fontSize;canvas.width=l,canvas.height=l,t.setCanvasId({name:o,id:o}),t.setAtlasSize({name:o,size:{w:r,h:r}}),t.ctx=canvas.getContext("2d"),t.ctx.clearRect(0,0,l,l),t.ctx.fillStyle="rgb(0, 0, 0)",t.ctx.fillRect(0,0,l,l),t.ctx.font=e.font,t.ctx.fillStyle="rgb(255, 255, 255)",e.data.forEach(function(data,n){var c=data.value;if(e.charCode){var l=data.value,h=parseInt(l,16);c=String.fromCharCode(h)}var u=Math.floor(n/r),d=n%r+1;t.setUv({canvasName:o,name:data.name,uv:{u:r-1-u,v:r+1-d}}),t.ctx.fillText(c,u*e.fontSize,d*(e.fontSize-2)-2)})}})}},f=n(16),component=Object(f.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("div",this._l(this.canvasData,function(data,t){return e("canvas",{key:t,ref:"canvas",refInFor:!0,attrs:{id:data.name}})}),0)},[],!1,null,null,null);e.a=component.exports},153:function(t,e){var n=[new THREE.Vector2,new THREE.Vector2,new THREE.Vector2,new THREE.Vector2];AFRAME.registerComponent("atlas-uvs",{dependencies:["geometry"],schema:{totalColumns:{type:"int",default:1},totalRows:{type:"int",default:1},column:{type:"int",default:1},row:{type:"int",default:1}},init:function(){var t;(t=this.el.getObject3D("mesh").geometry).faceVertexUvs[0][0]=[new THREE.Vector2,new THREE.Vector2,new THREE.Vector2],t.faceVertexUvs[0][1]=[new THREE.Vector2,new THREE.Vector2,new THREE.Vector2]},update:function(){var t,e,o,r,c,data=this.data;t=data.column-1,r=data.row-1,e=1/data.totalRows,c=1/data.totalColumns,n[0].set(e*t,c*r+c),n[1].set(e*t,c*r),n[2].set(e*t+e,c*r),n[3].set(e*t+e,c*r+c),(o=this.el.getObject3D("mesh").geometry).faceVertexUvs[0][0][0].copy(n[0]),o.faceVertexUvs[0][0][1].copy(n[1]),o.faceVertexUvs[0][0][2].copy(n[3]),o.faceVertexUvs[0][1][0].copy(n[1]),o.faceVertexUvs[0][1][1].copy(n[2]),o.faceVertexUvs[0][1][2].copy(n[3]),o.uvsNeedUpdate=!0}})},154:function(t,e,n){var o=n(5),r=n(18),c=n(9),l=n(155),h="["+l+"]",d=RegExp("^"+h+h+"*"),f=RegExp(h+h+"*$"),m=function(t,e,n){var r={},h=c(function(){return!!l[t]()||"​"!="​"[t]()}),d=r[t]=h?e(v):l[t];n&&(r[n]=d),o(o.P+o.F*h,"String",r)},v=m.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(d,"")),2&e&&(t=t.replace(f,"")),t};t.exports=m},155:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},156:function(t,e,n){"use strict";var o=n(150);n.n(o).a},157:function(t,e,n){(t.exports=n(46)(!1)).push([t.i,".mask[data-v-099f72f5]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fff;background-size:cover;z-index:9999;display:table}",""])},158:function(t,e,n){"use strict";n.r(e);n(32);var o=n(4),r=(n(92),n(153),n(17)),c=n.n(r);function l(t,e){var n=Math.round(Math.atan2(e,t)*(180/Math.PI));return n<0?n+360:n}function h(t){return l(t.x,t.y)}function d(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}var f={name:"GameShootingController",data:function(){return{text:"default",text2:"default",debug:!1}},methods:{onChangeTrigger:function(t){},onChangeTrackpad:function(t){},onDownTrigger:function(){this.$emit("trigger")},onUpTrigger:function(){},onDownTrackpad:function(){this.$emit("click-trackpad")},onUpTrackpad:function(){},onTouchStartTrackpad:function(){},onTouchEndTrackpad:function(){},onMovedTrackpad:function(t){var e=t.detail;this.$emit("change-touch-position",{degree:Math.round(h(e)),radius:d(e)})},onIntersectRaycaster:function(){},onGetRaycasterIntersection:function(t){}}},m=n(16),v=Object(m.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-entity",{attrs:{"oculus-go-controls":"model: false",raycaster:"objects: .collidable"},on:{triggerchanged:t.onChangeTrigger,trackpadchanged:t.onChangeTrackpad,triggerdown:t.onDownTrigger,triggerup:t.onUpTrigger,trackpaddown:t.onDownTrackpad,trackpadup:t.onUpTrackpad,trackpadtouchstart:t.onTouchStartTrackpad,trackpadtouchend:t.onTouchEndTrackpad,trackpadmoved:t.onMovedTrackpad,"raycaster-intersection":t.onGetRaycasterIntersection}},[n("a-entity",{attrs:{"obj-model":"obj: #tomatron82-obj; mtl: #tomatron82-mtl",rotation:"0 0 0"}}),t._v(" "),n("a-cone",{attrs:{material:"side: single; color: white; transparent: true; opacity: 0.5","radius-bottom":"0.01","radius-top":"0.001",height:"6",position:"0.005 -0.007 -3",rotation:"-90 0 0"}}),t._v(" "),t._t("default"),t._v(" "),t.debug?n("a-entity",{attrs:{geometry:"primitive: plane; height: 1; width: 1",material:"shader: flat;",position:"0 2 -5"}},[n("a-text",{attrs:{id:"home",value:t.text,align:"center",color:"black",position:"0 0 0"}}),t._v(" "),n("a-text",{attrs:{id:"home2",value:t.text2,align:"center",color:"black",position:"0 -0.25 0"}})],1):t._e()],2)},[],!1,null,null,null).exports,w={name:"GameShootingStage",methods:{}},I=Object(m.a)(w,function(){var t=this.$createElement,e=this._self._c||t;return e("a-entity",[e("a-sky",{attrs:{color:"#A0D0FF"}}),this._v(" "),e("a-plane",{attrs:{width:"100",height:"100",color:"green",position:"0 0 0",rotation:"-90 0 0"}})],1)},[],!1,null,null,null).exports,y=(n(25),n(148),n(0)),x={name:"GameShootingTargets",props:{maxTime:{type:Number,default:0}},data:function(){return{targets:{},idCount:0,hitId:-1,lifeTime:5e3,spawnInterval:2e3,timeId:null}},methods:{spawn:function(){y.a.set(this.targets,this.idCount,{id:this.idCount,x:c.a.random(-2,2),y:c.a.random(0,4),hit:!1});var t=this.targets,e=this.idCount,del=y.a.delete;c.a.delay(function(){del(t,e)},this.lifeTime),this.idCount++},getPosition:function(t){return t.x+" "+t.y+" 0"},getColor:function(t){return t.hit?"red":"white"},onIntersectRaycaster:function(t,e){y.a.set(this.targets[t],"hit",e),this.hitId=e?t:-1},click:function(){this.hitId<0||(y.a.delete(this.targets,this.hitId),this.hitId=-1,this.$emit("smash"))},start:function(){this.spawn();var t=this.spawn;this.timeId=setInterval(t,this.spawnInterval)},finish:function(){var t=this;clearInterval(this.timeId),c.a.keys(this.targets).forEach(function(e){y.a.delete(t.targets,e)})}}},k=Object(m.a)(x,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-entity",t._l(t.targets,function(e){return n("a-cylinder",{key:e.id,staticClass:"collidable",attrs:{color:t.getColor(e),radius:"0.5",height:"0.1",rotation:"90 0 0",position:t.getPosition(e)},on:{"raycaster-intersected":function(n){return t.onIntersectRaycaster(e.id,!0)},"raycaster-intersected-cleared":function(n){return t.onIntersectRaycaster(e.id,!1)}}})}),1)},[],!1,null,null,null).exports,C={name:"GameShootingButton",props:{value:{type:Boolean,default:!1},text:{type:String,default:""}},data:function(){return{hit:!1}},computed:{color:function(){return this.hit?"cyan":"white"}},methods:{onIntersectRaycaster:function(t){this.hit=t,this.$emit("input",t)}}},T={name:"GameShootingMenu",components:{MenuButton:Object(m.a)(C,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-plane",{staticClass:"collidable",attrs:{color:t.color,width:"1.5",height:"0.5"},on:{"raycaster-intersected":function(e){return t.onIntersectRaycaster(!0)},"raycaster-intersected-cleared":function(e){return t.onIntersectRaycaster(!1)}}},[n("a-text",{attrs:{value:t.text,align:"center",color:"black"}})],1)},[],!1,null,null,null).exports},props:{title:{type:String,default:""},mode:{type:String,default:"title"},score:{type:Number,default:0},maxTime:{type:Number,default:0}},data:function(){return{showTitle:!0,showIngame:!1,showResult:!1,showCredit:!1,showIngameCountDown:!1,showIngameIndicator:!1,countDown:0,timeCount:0,startIntersect:!1,backIntersect:!1,creditIntersect:!1,closeCreditIntersect:!1}},watch:{mode:function(t){switch(t){case"title":this.showResult=!1,this.showIngame=!1,this.showTitle=!0;break;case"ingame":this.showTitle=!1,this.showResult=!1,this.countDown=3,this.timeCount=this.maxTime,this.showIngameCountDown=!0,this.showIngame=!0,this.startCountDown();break;case"result":this.showIngameCountDown=!1,this.showIngameIndicator=!1,this.showTitle=!1,this.showIngame=!1,this.showResult=!0;break;case"hide":this.showTitle=!1,this.showIngame=!1,this.showResult=!1}}},computed:{scoreText:function(){return"Score: "+this.score},timeText:function(){return"Time: "+this.timeCount}},methods:{click:function(){this.startIntersect?(this.$emit("click-start"),this.startIntersect=!1):this.backIntersect?(this.$emit("click-reset"),this.backIntersect=!1):this.creditIntersect?(this.showCredit=!0,this.creditIntersect=!1):this.closeCreditIntersect&&(this.showCredit=!1,this.creditIntersect=!1)},startCountDown:function(){var t=this,e=setInterval(function(){t.countDown--},1e3);c.a.delay(function(){clearInterval(e),t.countDown="Start!",t.showIngameIndicator=!0},3e3),c.a.delay(function(){t.showIngameCountDown=!1,t.$emit("start-ingame"),t.startTimeCount()},4e3)},startTimeCount:function(){var t=this,e=setInterval(function(){t.timeCount--},1e3);c.a.delay(function(){clearInterval(e),t.countDown="Time Over!",t.showIngameCountDown=!0,c.a.delay(function(){t.$emit("finish-ingame")},2e3)},1e3*this.maxTime)}}},menu=Object(m.a)(T,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-entity",[t.showTitle?n("a-entity",[t.showCredit?t._e():n("a-entity",[n("a-plane",{attrs:{color:"white",position:"0 2 0",width:"2",height:"0.5"}},[n("a-text",{attrs:{value:t.title,align:"center",color:"black"}})],1),t._v(" "),n("menu-button",{attrs:{position:"0 1 0",text:"Start"},model:{value:t.startIntersect,callback:function(e){t.startIntersect=e},expression:"startIntersect"}}),t._v(" "),n("menu-button",{attrs:{position:"1.8 0.9 0.7",rotation:"0 -40 0",scale:"0.5 0.5 1",text:"Credit"},model:{value:t.creditIntersect,callback:function(e){t.creditIntersect=e},expression:"creditIntersect"}})],1),t._v(" "),t.showCredit?n("a-plane",{attrs:{position:"0 1.5 1",width:"2",height:"2"}},[n("a-text",{attrs:{value:"Staff",align:"center",color:"black",position:"0 0.8 0"}}),t._v(" "),n("a-text",{attrs:{value:"Programming: @Carotene",align:"left",color:"black",position:"-0.6 0.3 0",scale:"0.4 0.4 1"}}),t._v(" "),n("a-text",{attrs:{value:"Modeling: Sebastien Labrunie (CC-BY)",align:"left",color:"black",position:"-0.6 0 0",scale:"0.4 0.4 1"}}),t._v(" "),n("a-text",{attrs:{value:"TOMATRON 82: https://poly.google.com/view/3wuytTnJjQ7",align:"left",color:"black",position:"-0.6 -0.2 0",scale:"0.3 0.3 1"}}),t._v(" "),n("menu-button",{attrs:{position:"0 -0.7 0.1",scale:"0.5 0.5 1",text:"close"},model:{value:t.closeCreditIntersect,callback:function(e){t.closeCreditIntersect=e},expression:"closeCreditIntersect"}})],1):t._e()],1):t._e(),t._v(" "),t.showIngame?n("a-entity",{attrs:{position:"0 1 0"}},[t.showIngameCountDown?n("a-entity",{attrs:{position:"0 0.8 0",scale:"2 2 0"}},[n("a-text",{attrs:{value:t.countDown,color:"black",align:"center",position:"0 0 0"}})],1):t._e(),t._v(" "),t.showIngameIndicator?n("a-entity",{attrs:{position:"0 -0.4 0"}},[n("a-text",{attrs:{value:t.scoreText,align:"center",color:"black",position:"-1 0 0"}}),t._v(" "),n("a-text",{attrs:{value:t.timeText,align:"center",color:"black",position:"1 0 0"}})],1):t._e()],1):t._e(),t._v(" "),t.showResult?n("a-entity",[n("a-plane",{attrs:{color:"white",position:"0 2 0",width:"2",height:"0.5"}},[n("a-text",{attrs:{value:t.scoreText,align:"center",color:"black"}})],1),t._v(" "),n("menu-button",{attrs:{position:"0 1 0",text:"Back to Title"},model:{value:t.backIntersect,callback:function(e){t.backIntersect=e},expression:"backIntersect"}})],1):t._e()],1)},[],!1,null,null,null).exports;function S(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n(31);function M(t,e){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c.a.isFunction(e)){t.next=2;break}return t.abrupt("return");case 2:if("AsyncFunction"!==e.constructor.name){t.next=12;break}if(!n){t.next=8;break}return t.next=6,e.apply(void 0,S(n));case 6:t.next=10;break;case 8:return t.next=10,e();case 10:t.next=13;break;case 12:n?e.apply(void 0,S(n)):e();case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}var E={name:"CommonSound",props:{soundId:{type:String,default:null}},computed:{sound:function(){return c.a.isEmpty(this.soundId)?"":"src: #".concat(this.soundId,"; volume: 0.3")}},methods:{play:function(){this.$refs.sound.components.sound.playSound()}}},D=Object(m.a)(E,function(){var t=this.$createElement;return(this._self._c||t)("a-entity",{ref:"sound",attrs:{sound:this.sound}})},[],!1,null,null,null).exports,A={name:"CommonIcon",props:{name:{type:String,default:""}},data:function(){return{canvasName:"font-awesome",material:"",atlasUvs:""}},methods:{getCanvasId:function(){return this.$store.getters["assets/canvas/canvasId"](this.canvasName)},getUv:function(){return this.$store.getters["assets/canvas/uv"](this.canvasName,this.name)},getAtlasSize:function(){return this.$store.getters["assets/canvas/atlasSize"](this.canvasName)},getMaterial:function(){var t=this.getCanvasId();return t?"src: #"+t:""},getAtlasUvs:function(){var t=this.getAtlasSize(),e=this.getUv();return t&&e?"totalRows: ".concat(t.w,"; totalColumns: ").concat(t.h,"; column: ").concat(e.u,"; row: ").concat(e.v):""},onLoadedIcon:function(){this.applyAlphaMap()},getMeshMaterial:function(){return this.$refs.icon.components.material.material},applyAlphaMap:function(){var t=this.getMeshMaterial();t.transparent=!0,t.alphaMap=t.map.clone(),t.alphaMap.needsUpdata=!0,t.needsUpdate=!0,t.color.set(0)}},mounted:function(){var t=this;this.$nextTick(function(){t.$data.material=t.getMaterial(),t.$data.atlasUvs=t.getAtlasUvs(),t.$nextTick(function(){var e=t.getMeshMaterial();c.a.isNull(e.map)||t.applyAlphaMap()})})}},$={name:"CommonControllerMenu",components:{soundEntity:D,IconParts:Object(m.a)(A,function(){var t=this.$createElement,e=this._self._c||t;return e("a-entity",[e("a-entity",{ref:"icon",attrs:{"atlas-uvs":this.atlasUvs,material:this.material,position:"0 1 0",geometry:"primitive: plane; buffer: false; skipCache: true;"},on:{materialtextureloaded:this.onLoadedIcon}})],1)},[],!1,null,null,null).exports},props:{touchDegree:{type:Number,default:0},touchRadius:{type:Number,default:0},menuData:{type:Array,default:function(){return[]}}},data:function(){return{isShow:!1,menuArc:60,detectionDistance:.6}},computed:{touchLineRotation:function(){return"0 0 "+-this.touchDegree},touchLineScale:function(){return this.touchRadius+" 1 1"},selectedMenuIndex:function(){return this.touchRadius<=this.detectionDistance?null:5-Math.floor(this.touchDegree/this.menuArc)}},methods:{getMenuSelected:function(t){return!_.isEmpty(this.menuData[t].data)&&this.selectedMenuIndex===t},getMenuRotation:function(t){return"0 0 "+this.menuArc*t},getMenuPosition:function(t){return"0 0 "+(this.getMenuSelected(t)?.2:0)},getMenuScale:function(t){var e=this.getMenuSelected(t)?1.2:1;return"".concat(e," ").concat(e," 1")},getMenuRadius:function(t){return this.getMenuSelected(t)?.9:1},getMenuColor:function(menu){return menu.data?"white":"#A0A0A0"},getSoundId:function(menu){return menu.data&&menu.data.soundId?menu.data.soundId:null},getIconPosition:function(t){return this.getMenuSelected(t)?"0.8 0 0.5":"0.9 0 0.5"},isShowIcon:function(menu){return!_.isEmpty(menu.data)},click:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(){var data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isShow){t.next=3;break}return this.isShow=!0,t.abrupt("return");case 3:if(!_.isNull(this.selectedMenuIndex)){t.next=6;break}return this.isShow=!1,t.abrupt("return");case 6:if(data=this.menuData[this.selectedMenuIndex].data,!_.isEmpty(data)){t.next=9;break}return t.abrupt("return");case 9:if(_.isEmpty(data.soundId)||this.$refs.menuSounds[this.selectedMenuIndex].play(),!_.isFunction(data.onClickMenu)){t.next=13;break}return t.next=13,M(data.onClickMenu);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},N={name:"GameShooting",components:{Controller:v,Stage:I,Targets:k,ShootingMenu:menu,ControllerMenu:Object(m.a)($,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("a-entity",{attrs:{position:"0 0.07 -0.2",rotation:"-70 0 0",scale:"0.05 0.05 1"}},[n("a-circle",{attrs:{radius:"1",color:"white",material:"side: double;"}},[n("a-entity",{attrs:{rotation:t.touchLineRotation,position:"0 0 0.005"}},[n("a-entity",{attrs:{scale:t.touchLineScale}},[n("a-plane",{attrs:{width:"1",height:"0.1",position:"0.5 0 0",color:"red"}})],1),t._v(" "),n("a-circle",{attrs:{radius:"0.1",color:"red"}})],1)],1),t._v(" "),n("a-entity",{attrs:{scale:"1 1 0.03"}},[n("a-torus",{attrs:{arc:"360",radius:"0.98","radius-tubular":"0.2",color:"black",scale:"1 1 0.6"}}),t._v(" "),t._l(t.menuData,function(menu,e){return n("a-torus",{key:e,attrs:{arc:"58",radius:t.getMenuRadius(e),"radius-tubular":"0.2",scale:t.getMenuScale(e),position:t.getMenuPosition(e),rotation:t.getMenuRotation(e),color:t.getMenuColor(menu)}},[t.isShowIcon(menu)?n("icon-parts",{attrs:{name:menu.data.icon,scale:"0.5 0.5 1",position:t.getIconPosition(e)}}):t._e(),t._v(" "),n("sound-entity",{ref:"menuSounds",refInFor:!0,attrs:{soundId:t.getSoundId(menu)}})],1)})],2)],1):t._e()},[],!1,null,null,null).exports,CanvasData:n(151).a},data:function(){var t,e=c.a.times(6);return e[0]={data:{icon:"camera",soundId:"screenshot-sound"}},{title:"Simple Shooting",menuMode:"title",scoreCount:0,scoreWeight:10,touchDegree:0,touchRadius:0,showMask:!0,renderer:(t=new THREE.WebGLRenderer({antialias:!0}),t.setPixelRatio(window.devicePixelRatio),t.setSize(2048,1024),t),menuData:e}},computed:{score:function(){return this.scoreCount*this.scoreWeight}},methods:{onTriggerController:function(){this.$refs.targets.click(),this.$refs.menu.click()},onClickTrackpad:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$refs.contextMenu.click();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),onChangeTouchPosition:function(t){this.$refs.contextMenu.isShow&&(this.touchDegree=t.degree,this.touchRadius=t.radius)},onLoadedScene:function(){var t=this;this.showMask=!1,this.menuData[0].data.onClickMenu=function(){var e,n;e=t.$refs.scene,(n=t.renderer).render(e.object3D,e.camera),n.domElement.toBlob(function(t){var e="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",n=document.createElement("a");n.href=URL.createObjectURL(t),n.setAttribute("download",e),n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout(function(){n.click(),document.body.removeChild(n)},1)},"image/png")}},onClickStart:function(){this.scoreCount=0,this.menuMode="ingame"},onClickReset:function(){this.menuMode="title"},onStartIngame:function(){this.$refs.targets.start()},onFinishIngame:function(){this.$refs.targets.finish(),this.menuMode="result"},onSmashTarget:function(){this.scoreCount++}}},j=(n(156),Object(m.a)(N,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{position:"absolute",height:"100%",width:"100%"}},[n("a-scene",{ref:"scene",staticStyle:{position:"absolute",height:"100%",width:"100%"},attrs:{renderer:"antialias: true;",screenshot:"width: 1024; height: 1024;"},on:{loaded:t.onLoadedScene}},[n("a-assets",[n("a-asset-item",{attrs:{id:"tomatron82-obj",src:"https://carrot.games/assets/shooting/tomatron82/model.obj"}}),t._v(" "),n("a-asset-item",{attrs:{id:"tomatron82-mtl",src:"https://carrot.games/assets/shooting/tomatron82/materials.mtl"}}),t._v(" "),n("audio",{attrs:{id:"screenshot-sound",src:"https://carrot.games/assets/shooting/sound/camera-se.mp3"}}),t._v(" "),n("canvas-data")],1),t._v(" "),n("stage"),t._v(" "),n("targets",{ref:"targets",attrs:{position:"0 2 -10"},on:{smash:t.onSmashTarget}}),t._v(" "),n("shooting-menu",{ref:"menu",attrs:{title:t.title,position:"0 0 -3",mode:t.menuMode,score:t.score,maxTime:30},on:{"click-start":t.onClickStart,"start-ingame":t.onStartIngame,"finish-ingame":t.onFinishIngame,"click-reset":t.onClickReset}}),t._v(" "),n("controller",{on:{trigger:function(e){return t.onTriggerController()},"click-trackpad":t.onClickTrackpad,"change-touch-position":t.onChangeTouchPosition}},[n("controller-menu",{ref:"contextMenu",attrs:{touchDegree:t.touchDegree,touchRadius:t.touchRadius,menuData:t.menuData}})],1),t._v(" "),n("a-camera",{attrs:{position:"0 10 0"}})],1)],1)},[],!1,null,"099f72f5",null));e.default=j.exports}}]);